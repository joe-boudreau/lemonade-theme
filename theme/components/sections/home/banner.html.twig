{% set bannerSrc = image.src | asset_url %}
{% embed 'partials/components/banner' with {
    fullwidth: true,
    bannerAlt: alt,
    bannerImage: { uri: bannerSrc, urls: { 640: bannerSrc ~ '?width=640', 1280: bannerSrc ~ '?width=1280' } },
    bannerSizes: { sm: 640, lg: 1280 },
} %}
    {% block heading %}
        <h2 class="visually-hidden">
            {{ 'components.sections.home.banner.alt'|localize }}
        </h2>
    {% endblock %}
{% endembed %}

<div class="home-page__marquee-wrapper">
    {{ include('partials/ui/marquee', { content: 'components.sections.home.banner.marquee'|localize }) }}
</div>

{% schema %}
{
    "image": {
        "type": "image"
    },
    "alt": {
        "type": "string"
    }
}
{% endschema %}

{% editor %}
{
    "name": "Banner",
    "controls": [
        {
            "option": "group",
            "label": "Banner image",
            "value": {
                "controls": [
                    {
                        "option": "image-chooser",
                        "value": {
                            "$ref": "#/schema/image"
                        }
                    },
                    {
                        "option": "input",
                        "label": "Image description",
                        "placeholder": "Enter alt text for accessibility",
                        "value": {
                            "$ref": "#/schema/alt"
                        }
                    }
                ]
            }
        }
    ]
}
{% endeditor %}
